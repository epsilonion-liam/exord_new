version: '3'

services:
  scraper:
    restart: always
    ports:
      - "8000:8000"
    build:
      dockerfile: ./scrap/Dockerfile
    init: true
    working_dir: /app/
    command: python3.10 /app/concurency_scraper.py
    environment:
      - PORT=8000
      - youtube00e1f862e5eff=1
      - ap98j3envoubi3fco1kc=1
      - ch4875eda56be56000ac=1
      - masto65ezfd86424f69a=1
      - rss007d0675444aa13fc=1
      - wei223be19ab11e891bo=1
      - hackbc9419ab11eebe56=1
      - tradview251ae30a11ee=1
      - bitcointalk4de40ec26=1
      - jvc8439846094ced03ff=1
      - a7df32de3a60dfdb7a0b=1
      - spotting_target=http://processor:7998
    deploy:
      resources:
        limits:
          memory: 4G
        reservations:
          memory: 4G
  youtube:
    restart: always
    ports:
      - "8001:8000"
    build:
      dockerfile: ./scrap/Dockerfile
    init: true
    working_dir: /app/
    command: python3.10 /app/scraper.py
    environment:
      - PORT=8000
      - scraper_module=youtube00e1f862e5eff
      - spotting_target=http://processor:7998
    deploy:
      resources:
        limits:
          memory: 4G
  weibo:
    restart: always
    ports:
      - "8002:8000"
    build:
      dockerfile: ./scrap/Dockerfile
    init: true
    working_dir: /app/
    command: python3.10 /app/scraper.py
    environment:
      - PORT=8000
      - scraper_module=wei223be19ab11e891bo
      - spotting_target=http://processor:7998
    deploy:
      resources:
        limits:
          memory: 4G
  rss:
    restart: always
    ports:
      - "8003:8000"
    build:
      dockerfile: ./scrap/Dockerfile
    init: true
    working_dir: /app/
    command: python3.10 /app/scraper.py
    environment:
      - PORT=8000
      - scraper_module=rss007d0675444aa13fc
      - spotting_target=http://processor:7998

    deploy:
      resources:
        limits:
          memory: 4G
  hn:
    restart: always
    ports:
      - "8004:8000"
    build:
      dockerfile: ./scrap/Dockerfile
    init: true
    working_dir: /app/
    command: python3.10 /app/scraper.py
    environment:
      - PORT=8000
      - scraper_module=hackbc9419ab11eebe56
      - spotting_target=http://processor:7998

    deploy:
      resources:
        limits:
          memory: 4G
  4chan:
    restart: always
    ports:
      - "8005:8000"
    build:
      dockerfile: ./scrap/Dockerfile
    init: true
    working_dir: /app/
    command: python3.10 /app/scraper.py
    environment:
      - PORT=8000
      - scraper_module=ch4875eda56be56000ac
      - spotting_target=http://processor:7998

    deploy:
      resources:
        limits:
          memory: 4G
  reddit:
    restart: always
    ports:
      - "8006:8000"
    build:
      dockerfile: ./scrap/Dockerfile
    init: true
    working_dir: /app/
    command: python3.10 /app/scraper.py
    environment:
      - PORT=8000
      - scraper_module=ap98j3envoubi3fco1kc
      - spotting_target=http://processor:7998
    deploy:
      resources:
        limits:
          memory: 4G
  forocoches:
    restart: always
    ports:
      - "8007:8000"
    build:
      dockerfile: ./scrap/Dockerfile
    init: true
    working_dir: /app/
    command: python3.10 /app/scraper.py
    environment:
      - PORT=8000
      - scraper_module=ap98j3envoubi3fco1kc
      - spotting_target=http://processor:7998
    deploy:
      resources:
        limits:
          memory: 4G
  followin:
    restart: always
    ports:
      - "8008:8000"
    build:
      dockerfile: ./scrap/Dockerfile
    init: true
    working_dir: /app/
    command: python3.10 /app/scraper.py
    environment:
      - PORT=8000
      - scraper_module=followinc645fc950d7f
      - spotting_target=http://processor:7998
    deploy:
      resources:
        limits:
          memory: 4G
  twitter:
    restart: always
    ports:
      - "8009:8000"
    build:
      dockerfile: ./scrap/Dockerfile
    init: true
    working_dir: /app/
    command: python3.10 /app/scraper.py
    environment:
      - PORT=8000
      - scraper_module=a7df32de3a60dfdb7a0b
      - spotting_target=http://processor:7998
    deploy:
      resources:
        limits:
          memory: 4G